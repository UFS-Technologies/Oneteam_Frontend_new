
<div *ngIf="issLoading" class="overlay">
    <mat-progress-spinner class="spinner" [color]="color" [mode]="mode" [value]="value">
    </mat-progress-spinner>
</div>
<div  id='Topdiv'></div>
<div  id='Bottomdiv'></div>
<div class="main-content"  >

    <div class="container-fluid">
        <div class="" *ngIf="Entry_View">
        </div>
        </div>

<div class="" *ngIf="!Entry_View">

    <div class="col-md-12 pl-3 pr-5 mt-1" style="border: 1" *ngIf="isDesktopMenu()">
    <div class="dt-card mb-0 pb-1 pt-1" >        
    <div class="dt-card__body">
    <div class="mb-0">          
    <div class="form-row">
        
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right"> Batch Start Date</label>  
        <div class="col-md-0 col-sm-0 mb-1">
        <div _ngcontent-xmy-c9="" class="checkbox-to-crect-sales-search-section">
        <div _ngcontent-xmy-c9="" class="form-check uper-dte-lbel-sales-sctn-new pl-0" >
        <label _ngcontent-xmy-c9="" class="form-check-label">
        <input type='checkbox' class="form-check-input" name="Is_Date" [(ngModel)]="Is_Date"   />
        <span _ngcontent-xmy-c9="" class="form-check-sign"><span _ngcontent-xmy-c9="" class="check">
        </span>
        </span>
        </label>
        </div>
        </div>  
        </div> 
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right">From</label>
        <div class="col-md-2 col-sm-2 mb-1 wd_d">
        <!-- <input type="date" class="form-control p-0 pl-1" placeholder="To"  [(ngModel)]="ToDate_" name="ToDate_"> -->
       
        <mat-form-field class="form-control mrgn-crct-input-text-div-tre-prt-sles1 mrgn-crct-input-bx-sls-mstr-rspnsv-nw-sctn" style="height: 40px;"
        style="height: 40px !important;padding-top: 7px!important;">
            <input matInput [matDatepicker]="dpdate_1" placeholder=""  [(ngModel)]="FromDate_" name="FromDate_">
            <mat-datepicker-toggle matSuffix [for]="dpdate_1"></mat-datepicker-toggle>
            <mat-datepicker #dpdate_1></mat-datepicker>
        </mat-form-field>
        </div>
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right">To</label>
        <div class="col-md-2 col-sm-2 mb-1 wd_d">
        <mat-form-field class=" form-control mrgn-crct-input-text-div-tre-prt-sles1 mrgn-crct-input-bx-sls-mstr-rspnsv-nw-sctn" style="height: 40px;"
            style="height: 40px !important;padding-top: 7px!important;">
            <input matInput [matDatepicker]="dpdate" placeholder=""  [(ngModel)]="ToDate_" name="ToDate_">
            <mat-datepicker-toggle matSuffix [for]="dpdate"></mat-datepicker-toggle>
            <mat-datepicker #dpdate></mat-datepicker>
        </mat-form-field>

    </div>
        <!-- <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Course</label>
        <div class="col-md-3 col-sm-3 mb-1">
        <input type="text"  class="form-control"  id="Course_" name="Course_"  [matAutocomplete]="auto_Course"
        [(ngModel)]="Course_" (click)="Search_Course_Typeahead($event)"(keyup)="Search_Course_Typeahead($event)" /></div>  
        <mat-autocomplete #auto_Course="matAutocomplete" [displayWith]="display_Course">
            <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
            <ng-container *ngIf="!issLoading">
            <mat-option *ngFor="let Course of Course_Data_Filter" [value]="Course">
            <span>{{Course.Course_Name}}</span>
            </mat-option>
            </ng-container>
        </mat-autocomplete>   -->


        <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Faculty</label>
        <div  class="col-md-3 col-sm-3 mb-1" *ngIf="faculty_edit==1">
        <input  type="text"  class="form-control"  id="Faculty_" name="Faculty_"  [matAutocomplete]="auto_Faculty"
        [(ngModel)]="Faculty_" (ngModelChange)="Trainer_Change()" (click)="Search_Faculty_Typeahead($event)" (keyup)="Search_Faculty_Typeahead($event)"/></div>  

        <div  class="col-md-3 col-sm-3 mb-1"   *ngIf="faculty_edit==0">
        <input disabled type="text"  class="form-control"  id="Faculty_" name="Faculty_"  [matAutocomplete]="auto_Faculty"
        [(ngModel)]="Faculty_" (click)="Search_Faculty_Typeahead($event)" (keyup)="Search_Faculty_Typeahead($event)"/></div> 


        <mat-autocomplete #auto_Faculty="matAutocomplete" [displayWith]="display_Faculty">
        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
        <ng-container *ngIf="!issLoading">
        <mat-option *ngFor="let Faculty_ of Faculty_Data_Filter" [value]="Faculty_">
        <span>{{Faculty_.Users_Name}}</span>
        </mat-option>
        </ng-container>
        </mat-autocomplete>

        

        <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Batch</label>
        <div class="col-md-3 col-sm-3 mb-1">
           
            <input type="text"  class="form-control"  id="Batch_" name="Batch_"  [matAutocomplete]="auto_Batch"
            [(ngModel)]="Batch_" (click)="Search_Batch_Typeahead_Report_New($event)" (keyup)="Search_Batch_Typeahead_Report_New($event)"/></div>  
            <mat-autocomplete #auto_Batch="matAutocomplete" [displayWith]="display_Batch">
            <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
            <ng-container *ngIf="!issLoading">
            <mat-option *ngFor="let Batch_ of Batch_Data" [value]="Batch_">
            <span>{{Batch_.Batch_Name}}</span>
            </mat-option>
            </ng-container>
            </mat-autocomplete> 
            
            

            <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Branch</label>
        <div class="col-md-2 col-sm-2 mb-1">
            <input type="text" class="form-control" [matAutocomplete]="auto8" name="FollowUp_Branch_" [(ngModel)]="FollowUp_Branch_" (click)="Search_Branch_Typeahead($event)" (keyup)="Search_Branch_Typeahead($event)" (ngModelChange)="Branch_Change()" placeholder=" ">
        </div>
        <mat-autocomplete #auto8="matAutocomplete" [displayWith]="display_Branch">
        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
        <ng-container *ngIf="!issLoading">                          
        <mat-option *ngFor="let Branch1 of Followup_Branch_Data" [value]="Branch1">
            <span>{{Branch1.Agent_Name}}</span></mat-option>
         </ng-container>
        </mat-autocomplete>  












<!-- 
            <label class="col-md-0 col-sm-0 col-form-label text-sm-right pt-1">Name</label>
        <div class="col-md-3 col-sm-3 mb-1 ml-0">
        <input type="text" [(ngModel)]="Search_Name" name="Search_Name" class="form-control" placeholder=" ">
        </div> -->
        
            <div class="col-md-2 col-sm-0"> 
                <button mat-raised-button type="submit"  [hidden]="Export_View==false" (click)="Export()"class="other-button-style btnflot pull mr-1 green-btn"><i></i>EXPORT</button>   
       <button (click)="Search_Batch_Report()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 blue-btn">Search</button>
       


    </div>
    </div>
    </div>
    </div>
    </div>        
    </div>
    <!-- File viewer section -->
<div *ngIf="currentViewedStudentId && agreementFileUrl" class="file-viewer mt-3 p-3 border">
    
    <div class="text-right mb-2">
      <button class="btn btn-sm btn-secondary" (click)="currentViewedStudentId = null; agreementFileUrl = null">Close</button>
    </div>
    <img [src]="agreementFileUrl" class="img-fluid" alt="Student Agreement">
  </div>

    <div class="col-md-12 pl-3 pr-5 pb-1 pt-1 pl-1 pr-1" style="border: 1" *ngIf="isDesktopMenu()">
    <div class="dt-card mb-0 pb-1 pt-0 pl-1 pr-1" style="background-color: white;" >  

    <div class="card-body card-body-for-searchedit-lead-section" >
    <div class="table-responsive" style="overflow: scroll;" [style.height.px]="myInnerHeight"> <table class="table table-hover table-for-sale-search-section-diary">
    <thead>
    <!-- <th >Date</th>  -->
    
    <th style="width:0%!important" >No </th> 
    <th style="width:7%!important">Student </th> 
    
    <th style="width:7%!important">Phone </th>
    <th style="width:7%!important">Email </th>
 
    <th  style="width: 2%!important;">Year Of Passing</th>
    <th >Batch </th> 
    <th style="width:2%!important">Faculty </th>
    <th style="width:2%!important">Batch Starting Date </th>
    <th style="width:2%!important">Batch End Date </th>
    <!-- <th style="width:2%!important">Due Date </th> -->
    <!-- <th style="width:2%!important">Next DueAmount </th> -->
    
    <!-- <th style="width:7%!important">Course </th>    -->
      
    <!-- <th style="width:2%!important">Amount Paid </th>   -->

    <th style="width:2%!important">Registered By </th>
    <th style="width:7%!important">Registered On </th> 
    <th style="width:2%!important">Lap Details </th>
    <th style="width:2%!important">Branch </th>

    <th style="width:2%!important">Parent/Spouse Name </th>
    <th style="width:2%!important">Parent/Spouse Contact No </th>
    <th style="width:2%!important">Agreement File</th>
    <!-- <th style="width:2%!important">District </th> -->

    </thead>
    <tbody  *ngFor="let Student_t of Batch_Report_Data; let i = index" >
    <tr>
        <!-- <td  class="">{{Student_t["Date"]}}</td> -->
        <td  class="">{{i+1}}</td>
        <td  class="icon-pointer"><a target="_blank" [routerLink]="['/Student']" (click)="Edit_Batch_Report(Student_t.Student_Id,i)" style="color: #357bfd; font-weight: 800;">{{Student_t["Student"]}}</a></td>
        
        <td  class="">{{Student_t["Phone"]}}</td>
        <td  class="">{{Student_t["Email"]}}</td>
        
        <td  class="">{{Student_t["Year_Of_Passing"]}}</td>
        <td  class="">{{Student_t["Batch"]}}</td>
        <td  class="">{{Student_t["Faculty"]}}</td>
        <td  class="">{{Student_t["StartDate"]}}</td>
        <td  class="">{{Student_t["End_Date"]}}</td>

        
        <!-- <td  class="">{{Student_t["DueDate"]}}</td>
        <td  class="">{{Student_t["Due_Amount"]}}</td> -->
    
        
       
    <!-- <td  class="">{{Student_t["Course"]}}</td> -->
    
    <!-- <td  class="">{{Student_t["FeePaid"]}}</td> -->
 

    <td  class="">{{Student_t["TeamMember"]}}</td>
    <td  class="">{{Student_t["Registered_On"]}}</td>
    <td  class="">{{Student_t["Lapdetails"]}}</td>
    <td  class="">{{Student_t["Branch_Name"]}}</td>

    <td  class="">{{Student_t["Parent_spouse_name"]}}</td>
    <td  class="">{{Student_t["Parent_spouse_contact_no"]}}</td>
    
    <!-- <td  class="">{{Student_t["District_Name"]}}</td> -->
    <td class="">
        <button class="btn btn-primary btn-sm" (click)="viewStudentAgreement(Student_t.Student_Id)">
          View
        </button>
      </td>
    </tr>
    </tbody>
    </table>
    </div>
    
    </div>
    </div>
    </div>
    <label class="entry-num">Total No.of Students in the Batch : {{Total_Entries}}</label>    
    <!-- <label class="entry-num">Total Amount : {{Total_Amount}}</label> -->
</div>

</div>

